function [J,COM]= BodyCalc(Mass_kg, Len_L_m, Len_T_m, Len_HAT_m)%% [J,COM]= BodyCalc(Mass, Len_L, Len_T, Len_HAT)%% [J,COM]= BodyCalc(156.3/2.2046,(19.5-3.5)*0.0254,(37-19.5)*0.0254,(56.3-37)*0.0254)%% Program that calculates the Moment of Inertia (J) and% Center of Mass at the ankle joint for platform subjects.% 06-Jul-99:  SCD and RJP%% Enter Mass in kg, and Length's in meters (e.g., Len_HAT = .545)%% Mass = total body mass (kg)% Len_L_m = leg length (medial malleolus to femoral condyles in meters)% Len_T_m = thigh length (femoral condyles to greater trochanter in meters)% Len_HAT_m = head, arms, trunk length (greater trochanter to glenohumeral%   joint in meters - Note that even though this length measure does not include the%   head, the calculation of COM is based on this length measure)%% J = moment of inertia of the legs+thighs+HAT segments about the ankle %       joint axis (kg-m^2)% COM = center of mass height (meters) above the ankle joint axis of the%       legs+thighs+HAT segments%Moment of InertiaMass_HAT=0.678*Mass_kg; Mass_T=2*0.100*Mass_kg;Mass_L=2*0.0465*Mass_kg;J_HAT=Mass_HAT*(Len_HAT_m*0.496)^2;J_HAT_ankle=J_HAT +Mass_HAT*(Len_L_m+Len_T_m + 0.626*Len_HAT_m)^2;J_T=Mass_T*(Len_T_m*0.323)^2;J_T_ankle=J_T+Mass_T*(Len_L_m+0.567*Len_T_m)^2;J_L=Mass_L*(Len_L_m*0.302)^2;J_L_ankle=J_L+Mass_L*(Len_L_m*0.567)^2;J=J_HAT_ankle + J_T_ankle + J_L_ankle;% Center of Mass of Legs+Thighs+HAT above ankle jointCOM_HAT = 0.626*Len_HAT_m + Len_L_m + Len_T_m;COM_T = 0.567*Len_T_m + Len_L_m;COM_L = 0.567*Len_L_m;COM = (Mass_HAT*COM_HAT + Mass_T*COM_T + Mass_L*COM_L) / (Mass_HAT + Mass_L + Mass_T);